# 多维数组

## 行优先顺序存储

- 以`m*n`的二维数组为例，第`i`行第`j`列的数据元素的地址为：

  ```java
  loc(a[i][j]) = loc(a[0][0]) + (i*n + j) * c
  // 每个元素占有c个存储单元
  ```

- 以`m*n*k*l`的四维数组为例，数据元素的地址为：

  ```java
  loc(a[i][j][p][q]) = loc(a[0][0][0][0]) + (i*n*k*l + j*k*l + p*l + q) * c
  // 每个元素占有c个存储单元
  ```

## 列优先顺序存储

- 以`m*n`的二维数组为例，第`i`行第`j`列的数据元素的地址为：

  ```java
  loc(a[i][j]) = loc(a[0][0]) + (j*m + i) * c
  // 每个元素占有c个存储单元
  ```

# 矩阵的压缩存储

- 在矩阵存储中，根据规律只要存储其中一部分，另一部分的存储地址可以通过相应的算法计算出来，占用较少的存储空间
- 矩阵的压缩存储仅针对特殊矩阵
- 二维数组的压缩存储一般有3种：**对称矩阵**、**稀疏矩阵**、**三角矩阵**

## 对称矩阵

- 只要存储对角的数据元素和一半的数据元素（下三角的元素），占用的存储单元为$n(n-1)/2$，而不是$n^2$

  ![对称矩阵](pics/image-20210630202825568.png)

- 对角矩阵：除了主对角线上和直接在主对角线上、下方若干条对角线上的元素之外，其余元素皆为零

## 稀疏矩阵

- 稀疏矩阵一般是矩阵中的大部分元素为零，仅有少量元素非0的矩阵
- 稀疏矩阵的压缩存储采用三元组的方法实现
  - 每一个非零元素占有一行，每行中包括非零元素所在的行号、列号、非零元素的数值：`(row col value)`
  - 一般在第一行描述矩阵的行数、列数和非零元素的个数
- 一般对`m*n`的矩阵来说，只要满足`(t+1)*3 <= m*n`这个条件，使用三元组存储可以节省空间（`t`为非零元素的个数）

## 稀疏矩阵转换为三元组存储

### 代码实现

```java
public static int[][] Transfer(int[][] data) {
    int compressData[][] = new int[10][3]; // 假设一个10*3的行优先存储三元组空间, 按需求更改
    int row = data.length;
    int col = data.length.length;
    int index = 0; // 三元组的行号
    for(int i = 0; i < row; i++) {
        for(int j = 0; j < col; j++) {
            if(data[i][j] != 0) {
                index++;
                compressData[index][0] = i; // 非零元素的行号
                compressData[index][1] = j; // 非零元素的列号
                compressData[index][2] = data[i][j]; // 非零元素的值
            }
        }
    }
    // 给三元组的第0行赋值
    compressData[0][0] = row;
    compressData[0][1] = col;
    compressData[0][2] = index;
    return compressData;
}
```

# 广义表

## 广义表定义

- 广义表是线性表的扩展，为`n(n>=0)`个元素的有限集合
- 元素可以是一个原子元素（不可再分元素），也可以是一个可以再分的元素（一个子表）
- 广义表的表头为广义表中的第一个元素，表尾为去掉表头之后的所有元素

![广义表](pics/image-20210630210909646.png)

## 广义表存储

- 一般采用链表存储，节点逻辑结构为：`flag - info - link`
  - `flag`：标志位，`flag==0`表示原子元素，`flag==1`表示子表
  - `info`：当`flag==0`时，表示原子元素的值；当`flag==1`时，表示指向子表第一个节点的指针
  - `link`：表示指针，指向广义表的下一个元素

![广义表存储](pics/image-20210630211629232.png)









