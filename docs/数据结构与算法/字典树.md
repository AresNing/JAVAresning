# 基本介绍

- 字典树 / 前缀树 / 单词查找树（trie，发音为 try）是一种数据结构，由字符串键中的所有字符构造而成，允许使用被查找键中的字符进行查找

# 基本性质

- 字典树的每个结点都含有`R`条链接，其中`R`为字母表的大小，对应着每个可能出现的字符
- 这些链接可能为空，也可能指向其他结点
- 将每个键所关联的值保存在该键的最后一个字母所对应的结点中
- 值为空的结点在符号表中没有对应的键，它们的存在是为了简化单词查找树中的查找操作

![字典树](pics/image-20210918161846272.png)

# 特殊性质

- **字典树的链表结构（形状）和键的插入或删除顺序无关**：对于任意给定的一组键，其单词查找树都是唯一的
- 在字典树中**查找**一个键或是**插入**一个键时，**访问数组的次数最多为键的长度加1**
- **未命中的查找一般都只需要检查很少的几个结点，查找未命中的成本与键的长度无关**：字母表的大小为`R`，在一棵由`N`个随机键构造的字典树中，未命中查找平均所需检查的结点数量为$~log_RN$
- 一棵字典树中的链接总数在`RN`到`RNw`之间，其中`w`为键的平均长度
  1. 当所有键均较短时，链接的总数接近于`RN`
  2. 当所有键均较长时，链接的总数接近于`RNw`
  3. 缩小`R`能够节省大量的空间

# 查找操作

- 以被查找的键中的字符为导向，从根结点开始
- 字典树中的每个结点都包含了下一个可能出现的所有字符的链接
- 查找的结果
  1. 键的尾字符所对应的结点中的值非空：命中的查找，键所对应的值就是键的尾字符所对应的结点中保存的值
  2. 键的尾字符所对应的结点中的值为空：未命中的查找，符号表中不存在被查找的键
  3. 查找结束于一条空链接：未命中的查找

# 插入操作

- 插入之前要进行一次查找：在单词查找树中意味着沿着被查找的键的所有字符到达树中表示尾字符的结点或者一个空链接
- **在到达键的尾字符之前就遇到了一个空链接**：需要为键中还未被检查的每个字符创建一个对应的结点并将键的值保存到最后一个字符的结点中
- **在遇到空链接之前就到达了键的尾字符**：将该结点的值设为键所对应的值（无论该值是否为空）

# 结点的表示

- 每个结点都含有`R`个链接，对应着每个可能出现的字符
-  **R 向字典树**：基于含有`R`个字符的字母表的字典树
- **键是由从根结点到含有非空值的结点的路径所隐式表示的**（事实上，数据结构不会存储任何字符串或字符，它保存了链接数组和值）

# 删除操作

1. 找到键所对应的结点并将它的值设为空（null）
2. 如果该结点含有一个非空的链接指向某个子结点，那么就不需要再进行其他操作
3. 如果它的所有链接均为空，那就需要从数据结构中删去这个结点
4. 如果删去它使得它的父结点的所有链接也均为空，就需要继续删除它的父结点，依此类推

# 三向字典树





















